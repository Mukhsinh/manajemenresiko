<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test SWOT Analisis - Perbaikan Final</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/css/analisis-swot-fixed.css" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        body { padding: 20px; background: #f8f9fa; }
        .test-header { 
            background: #ffffff;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        .test-status {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #28a745;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1><i class="fas fa-check-circle"></i> Test SWOT Analisis - Perbaikan Final</h1>
        <p>Verifikasi semua perbaikan UI telah diterapkan</p>
    </div>
    
    <div class="test-status">
        <h5><i class="fas fa-info-circle"></i> Status Perbaikan</h5>
        <ul>
            <li>âœ… Header: "Analisis SWOT" (tanpa teks berlebihan)</li>
            <li>âœ… Filter: Tanpa label di atas dropdown</li>
            <li>âœ… Card Header: "Data Analisis SWOT" (tanpa teks berlebihan)</li>
            <li>âœ… Kolom: "Perspektif" (bukan "Kategori")</li>
            <li>âœ… Badge: Tidak overflow dari kolom</li>
            <li>âœ… Nilai Kartu: Tidak ada yang bernilai 0</li>
        </ul>
    </div>
    
    <div id="analisis-swot" class="active">
        <div id="analisis-swot-content">
            <!-- Content akan dimuat di sini -->
        </div>
    </div>

    <script>
        // Mock data dan API
        const unitKerjaData = [
            { id: '1', name: 'ICU-PICU-NICU', jenis: 'rawat inap', kategori: 'klinis' },
            { id: '2', name: 'IGD PONEK', jenis: 'rawat jalan', kategori: 'klinis' },
            { id: '3', name: 'Laboratorium', jenis: 'penunjang medis', kategori: 'klinis' }
        ];

        window.apiCall = async function(url) {
            if (url.includes('/api/analisis-swot/summary')) {
                return {
                    Strength: { totalScore: 20230, totalBobot: 1925, items: [] },
                    Weakness: { totalScore: 20330, totalBobot: 1925, items: [] },
                    Opportunity: { totalScore: 20695, totalBobot: 1925, items: [] },
                    Threat: { totalScore: 20050, totalBobot: 1925, items: [] }
                };
            }
            
            if (url.includes('/api/analisis-swot')) {
                return [
                    {
                        id: '1',
                        unit_kerja_id: '1',
                        kategori: 'Strength',
                        objek_analisis: 'Tenaga medis intensivist berpengalaman',
                        bobot: 25, rank: 4, score: 100, tahun: 2025,
                        rencana_strategis_id: '1'
                    },
                    {
                        id: '2',
                        unit_kerja_id: '2',
                        kategori: 'Opportunity',
                        objek_analisis: 'Pengembangan sistem telemedicine',
                        bobot: 30, rank: 3, score: 90, tahun: 2025,
                        rencana_strategis_id: '1'
                    }
                ];
            }
            
            if (url.includes('/api/rencana-strategis')) {
                return [
                    { id: '1', kode: 'RS-2025-001', nama_rencana: 'Peningkatan Keselamatan Pasien' }
                ];
            }
            
            return [];
        };
    </script>
    <script src="/js/analisis-swot.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ðŸš€ Loading SWOT Analisis...');
            AnalisisSwotModule.load();
        });
    </script>
</body>
</html>